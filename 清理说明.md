# 项目清理指南

## 可以安全删除的文件和目录

本文档列出了可以安全删除的文件和目录，以减小项目大小，只保留与核心功能相关的代码和资源。

### 1. 临时文件和缓存目录

这些目录只包含程序运行时生成的临时数据，删除它们不会影响程序功能：

- **temp/** - 临时处理文件
- **test_temp/** - 测试临时文件
- **test_videos_temp/** - 测试视频临时文件
- **__pycache__/** - Python编译缓存文件

### 2. 构建和发布目录

这些目录包含构建过程中生成的文件，可以根据源代码随时重新生成：

- **build/** - 构建中间文件
- **dist/** - 已打包的发布版本

### 3. 备份目录

这些目录包含代码和配置的历史备份，在确保当前版本运行正常后可以删除：

- **backup/** - 一般备份文件
- **backup_code/** - 代码备份
- **organized_backups/** - 组织化的备份
- **memory_backup/** - 内存相关功能备份
- **cleanup_backup/** - 清理功能备份
- **备份和临时/** - 混合备份目录

### 4. 测试相关目录

这些目录仅用于开发和测试阶段，对最终用户没有作用：

- **test/** - 测试代码目录
- **tests/** - 测试集合
- **test_data/** - 测试数据
- **test_media/** - 测试媒体文件
- **test_material/** - 测试材料
- **test_materials/** - 测试材料集合
- **test_out/** - 测试输出
- **test_output/** - 测试输出集合
- **test_valid_data/** - 验证用测试数据
- **test_mixed_mode/** - 混合模式测试
- **test_grandchild_shortcuts/** - 快捷方式测试
- **test_simple/** - 简单测试
- **test_media_shortcuts_enhanced/** - 增强型媒体快捷方式测试
- **test_media_shortcuts/** - 媒体快捷方式测试
- **test_find_subfolder/** - 查找子文件夹测试
- **test_optimization_dir/** - 优化测试目录

### 5. 其他可删除的目录

- **维护和清理/** - 维护脚本和工具
- **开发辅助/** - 开发辅助工具和脚本

### 6. 可以删除的文件类型

以下类型的文件通常可以安全删除：

- **.log** - 日志文件
- **.bak** - 备份文件
- **.pyc** - Python编译文件
- **.pyo** - Python优化文件

### 7. 特定可删除的大文件

- **ffmpeg.zip** (13MB) - FFmpeg压缩包，程序运行时会自动解压或下载
- **temp_log.txt** - 临时日志
- **ffmpeg_path.txt.bak** - FFmpeg路径备份
- **settings.json.bak** - 设置备份

### 8. 其他可删除的文件

- 所有以**test_**开头的**.py**文件 - 这些是测试脚本
- 所有以**fix_**开头的**.py**文件 - 这些是修复脚本，通常是一次性使用

## 清理后的预期结果

清理后，项目将只保留以下核心内容：

1. **src/** - 源代码目录
2. **config/** - 配置文件目录
3. **assets/** - 资源文件目录
4. **核心功能/** - 核心功能代码
5. **FFmpeg工具/** - FFmpeg工具脚本（将删除大型二进制文件）
6. **main.py** - 主程序入口
7. **requirements.txt** - 依赖管理

预计能够释放大量空间，特别是通过删除构建文件、临时文件、备份和测试数据。

## 如何使用清理脚本

1. 确保你已经备份了重要文件
2. 运行 `python cleanup_project.py`
3. 确认提示后，脚本将自动删除无关文件
4. 查看生成的日志了解详细信息

## 注意事项

- 清理前请确保您不需要任何历史备份
- 如果您正在进行开发，可能需要保留某些测试目录
- 脚本会在删除前提示确认
- 整个过程会记录日志供后续参考 